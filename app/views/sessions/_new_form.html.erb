<!--complete-->

<div class="login-form">
  <%= form_for(:session, url: login_path) do |f| %>
  
    <%= link_to "Sign in with Facebook", "/auth/facebook" %>
    
    <%= link_to "Sign in with Google",   "/auth/google" %>
  
    <%= f.email_field :email, 
        placeholder: "Email address", 
        class: 'form-control form-control-primary login-form-control' %>
    
    <%= f.password_field :password, 
        placeholder: "Password", 
        class: 'form-control form-control-primary login-form-control' %>
    
    <div class="checkbox-container">
      <div class="checkbox-inline">
        
        <%= f.check_box :remember_me, class: "checkbox" %>
        
        <%= f.label :remember_me, 
            "Remember me on this computer",
            class: "checkbox-label" %>
      </div>
    </div>
  
    <%= f.submit "Log In", class: "btn btn-primary" %>
  <% end %>
  
  <p>
    <%= link_to "Forgot your password? Click here", new_password_reset_path %>
  </p>
  
  <p>New user? <%= link_to "Sign up now!", signup_path %></p>
</div>

<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : ENV['FACEBOOK_KEY'],
      xfbml      : true,
      version    : 'v2.6'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>

<!--Is facebook script necessary, if google script is not-->